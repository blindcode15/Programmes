<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mood Diary ‚Äì Preview</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
  <header class="topbar">
    <div class="brand">Mood Diary (Preview)</div>
    <nav class="nav">
      <button class="nav-btn" data-target="home" id="navHome">–î–æ–º–æ–π</button>
      <button class="nav-btn" data-target="history" id="navHistory">–ò—Å—Ç–æ—Ä–∏—è</button>
      <button class="nav-btn" data-target="chart" id="navChart">–ì—Ä–∞—Ñ–∏–∫</button>
      <button class="nav-btn" data-target="tips" id="navTips">–°–æ–≤–µ—Ç—ã</button>
      <button class="nav-btn" data-target="settings" id="navSettings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    </nav>
  </header>

  <main class="page">
    <!-- Home -->
    <section class="widget" id="homeSection">
      <div class="widget-row">
        <button class="emoji" data-value="1">üòû</button>
        <button class="emoji" data-value="4">üòê</button>
        <button class="emoji" data-value="7">üôÇ</button>
        <button class="emoji" data-value="9">üòÑ</button>
        <button class="emoji fine" id="fineBtn" title="–¢–æ—á–Ω–æ/–ø–æ–¥—Ä–æ–±–Ω–æ">üéöÔ∏è</button>
      </div>
      <div class="last-value" id="lastValue">–ü–æ—Å–ª–µ–¥–Ω–µ–µ: ‚Äî</div>
      <div class="undo" id="undoBar" hidden>
        <span id="undoText">–ó–∞–ø–∏—Å—å –¥–æ–±–∞–≤–ª–µ–Ω–∞</span>
        <button class="btn" id="undoBtn">–û—Ç–º–µ–Ω–∏—Ç—å</button>
      </div>
    </section>

    <!-- History -->
    <section class="list" id="entries" aria-label="–ò—Å—Ç–æ—Ä–∏—è" hidden></section>

    <!-- Charts -->
    <section class="chart" id="chartSection" hidden>
      <div class="segmented" role="tablist">
        <button class="seg-btn active" data-range="day" id="rangeDay">–î–µ–Ω—å</button>
        <button class="seg-btn" data-range="week" id="rangeWeek">–ù–µ–¥–µ–ª—è</button>
        <button class="seg-btn" data-range="month" id="rangeMonth">–ú–µ—Å—è—Ü</button>
      </div>
      <div class="pills" id="statPills">
        <div class="pill"><span>Avg</span><strong id="statAvg">‚Äì</strong></div>
        <div class="pill"><span>Median</span><strong id="statMed">‚Äì</strong></div>
        <div class="pill"><span>Min</span><strong id="statMin">‚Äì</strong></div>
        <div class="pill"><span>Max</span><strong id="statMax">‚Äì</strong></div>
      </div>
      <canvas id="moodChart" height="160"></canvas>
      <h4 class="muted" style="margin:8px 0 4px">Heatmap</h4>
      <div class="heatmap" id="heatmap"></div>
    </section>

    <section class="list" id="tipsSection" hidden aria-label="–°–æ–≤–µ—Ç—ã">
      <div id="tipsList"></div>
    </section>
  </main>

  <div class="sheet-backdrop" id="sheetBackdrop"></div>
  <aside class="sheet" id="sheet" role="dialog" aria-modal="true" aria-labelledby="sheetTitle">
    <header class="sheet-header">
      <h2 id="sheetTitle">–¢–æ—á–Ω–æ</h2>
      <div class="value" id="sheetValue">5 / 10</div>
    </header>
    <div class="sheet-body">
      <label for="slider" class="sr-only">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</label>
      <input type="range" id="slider" min="0" max="10" step="1" value="5" aria-label="–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ" />
      <label for="note" class="sr-only">–ó–∞–º–µ—Ç–∫–∞</label>
      <input type="text" id="note" placeholder="–ö–æ—Ä–æ—Ç–∫–æ: —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ?" aria-label="–ó–∞–º–µ—Ç–∫–∞" />
    </div>
    <footer class="sheet-footer">
      <button class="btn" id="cancelBtn">–ù–∏—á–µ–≥–æ</button>
      <button class="btn primary" id="saveBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </footer>
  </aside>

  <aside class="panel" id="settingsPanel" hidden>
    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
    <div class="settings-grid">
      <div>
        <label for="langSelect">–Ø–∑—ã–∫ / Language</label>
        <select id="langSelect">
          <option value="ru">–†—É—Å—Å–∫–∏–π</option>
          <option value="en">English</option>
        </select>
      </div>
      <div>
        <label>–≠–∫—Å–ø–æ—Ä—Ç</label>
        <div class="settings-row">
          <button class="btn" id="exportJsonBtn">Export JSON</button>
          <button class="btn" id="exportCsvBtn">Export CSV</button>
        </div>
      </div>
      <div>
        <label>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</label>
        <div class="settings-row">
          <button class="btn" id="enableNotifsBtn">–†–∞–∑—Ä–µ—à–∏—Ç—å</button>
          <button class="btn" id="testNotifBtn">–¢–µ—Å—Ç —á–µ—Ä–µ–∑ 10—Å</button>
        </div>
      </div>
      <div>
        <label>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (PIN)</label>
        <div class="settings-row">
          <input type="password" id="pinInput" placeholder="–ù–æ–≤—ã–π PIN" />
          <button class="btn" id="setPinBtn">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
          <button class="btn" id="clearPinBtn">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </aside>

  <div class="toast" id="toast"></div>

  <div class="lock" id="lockOverlay" hidden>
    <div class="lock-card">
      <h3>–í–≤–µ–¥–∏—Ç–µ PIN</h3>
      <label for="unlockPin" class="sr-only">PIN</label>
      <input type="password" id="unlockPin" placeholder="PIN" aria-label="PIN" />
      <div class="settings-row">
        <button class="btn primary" id="unlockBtn">–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
      <div class="muted" id="lockHint"></div>
      <div class="muted"><button class="link" id="forgotPinBtn" type="button">–ó–∞–±—ã–ª–∏ PIN?</button></div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
